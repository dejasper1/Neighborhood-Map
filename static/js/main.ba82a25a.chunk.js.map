{"version":3,"sources":["components/Header.js","components/SideBar.js","App.js","serviceWorker.js","index.js"],"names":["Header","props","react_default","a","createElement","aria-label","tabIndex","width","height","onClick","changeSideBar","d","stroke","strokeWidth","strokeOpacity","SideBar","triggerMarkerClick","venueName","_this","markers","forEach","marker","title","window","google","maps","event","trigger","_this2","this","react","className","type","value","query","onChange","e","updateQuery","target","placeholder","venues","map","v","role","key","venue","id","name","Component","App","state","filteredVenues","sidebar","initMap","Map","document","getElementById","center","lat","lng","zoom","infowindow","InfoWindow","pos","location","Marker","position","animation","Animation","DROP","contentString","concat","address","city","postalCode","addListener","setContent","open","getAnimation","setAnimation","BOUNCE","setTimeout","push","setState","renderMap","ref","script","getElementsByTagName","src","async","onerror","alert","parentNode","insertBefore","getVenues","fetch","then","response","json","data","groups","items","catch","err","console","log","filterVenues","m","setVisible","filter","toLowerCase","includes","gm_authFailure","components_Header","components_SideBar","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","src_App_0","URL","process","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ba82a25a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = props => {\n  return (\n    <nav>\n      <svg\n        aria-label=\"menu\"\n        tabIndex=\"0\"\n        width=\"30\"\n        height=\"30\"\n        onClick={props.changeSideBar}\n      >\n        <path d=\"M0,5 30,5\" stroke=\"#fff\" strokeWidth=\"5\" strokeOpacity=\"0.8\" />\n        <path\n          d=\"M0,14 30,14\"\n          stroke=\"#fff\"\n          strokeWidth=\"5\"\n          strokeOpacity=\"0.8\"\n        />\n        <path\n          d=\"M0,23 30,23\"\n          stroke=\"#fff\"\n          strokeWidth=\"5\"\n          strokeOpacity=\"0.8\"\n        />\n      </svg>\n      <h3>Trending Foursquare Venues</h3>\n    </nav>\n  );\n};\n\nexport default Header;\n","import React, { Component, Fragment } from \"react\";\n\nclass SideBar extends Component {\n  triggerMarkerClick = venueName => {\n    this.props.markers.forEach(marker => {\n      if (marker.title === venueName) {\n        window.google.maps.event.trigger(marker, \"click\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"side-bar\">\n          <span\n            aria-label=\"close\"\n            tabIndex=\"0\"\n            onClick={this.props.changeSideBar}\n            className=\"btn-close\"\n          >\n            &times;\n          </span>\n          <input\n            aria-label=\"filter venues\"\n            type=\"text\"\n            value={this.props.query}\n            onChange={e => {\n              this.props.updateQuery(e.target.value);\n            }}\n            className=\"input\"\n            placeholder=\"Filter Venues...\"\n          />\n          <ul>\n            {this.props.venues.map(v => {\n              return (\n                <li\n                  tabIndex=\"0\"\n                  role=\"link\"\n                  className=\"list-item\"\n                  key={v.venue.id}\n                  onClick={() => this.triggerMarkerClick(v.venue.name)}\n                >\n                  {v.venue.name}\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SideBar;\n","import React, { Component, Fragment } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport SideBar from \"./components/SideBar\";\n\nclass App extends Component {\n  state = {\n    venues: [],\n    filteredVenues: [],\n    markers: [],\n    sidebar: true,\n    query: \"\"\n  };\n\n  // create instance of map\n  initMap = () => {\n    const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n      center: { lat: 47.6062, lng: -122.332 },\n      zoom: 10\n    });\n\n    // create markers array\n    const markers = [];\n    // create info window\n    const infowindow = new window.google.maps.InfoWindow();\n    // display list of markers from venues array in state\n    this.state.venues.forEach(v => {\n      // get position of each venue\n      const pos = { lat: v.venue.location.lat, lng: v.venue.location.lng };\n      // create marker and assisgn position and map\n      const marker = new window.google.maps.Marker({\n        position: pos,\n        map: map,\n        animation: window.google.maps.Animation.DROP,\n        title: v.venue.name\n      });\n\n      let contentString = `\n      ${v.venue.name}\n      <br>\n      ${\n        v.venue.location.address\n          ? v.venue.location.address\n          : \"Address not found\"\n      }\n        <br>\n        ${v.venue.location.city}, ${v.venue.location.state}\n        ${v.venue.location.postalCode}`;\n\n      // add listener for marker click event\n      marker.addListener(\"click\", function() {\n        // update marker content\n        infowindow.setContent(contentString);\n        // add content to infowindow\n        infowindow.open(map, marker);\n        // marker animation - source: https://developers.google.com/maps/documentation/javascript/examples/marker-animations\n        if (marker.getAnimation() !== null) {\n          marker.setAnimation(null);\n        } else {\n          marker.setAnimation(window.google.maps.Animation.BOUNCE);\n          setTimeout(function() {\n            marker.setAnimation(null);\n          }, 750);\n        }\n      });\n      markers.push(marker);\n      this.setState({ markers });\n    });\n  };\n\n  renderMap = () => {\n    // Connect the initMap() function within this class to the global window context,\n    // so Google Maps can invoke it\n    window.initMap = this.initMap;\n    // Asynchronously load the Google Maps script\n    loadJS();\n  };\n\n  getVenues = () => {\n    fetch(\n      \"https://api.foursquare.com/v2/venues/explore?client_id=CQ05ERMDJAWYWLX0UNC3R5B1XB43G3C0YUMRWD0PVZQI4KAO&client_secret=3ZBI3S4FNTZH2R4YTPYUG4CIWIX05APWJVNLCRETVIHP4D33&v=20180323&limit=15&near=Seattle,WA&query=trending\"\n    )\n      .then(response => {\n        // Code for handling API response\n        return response.json();\n      })\n      .then(data => {\n        // Code for setting state with venues\n        const venues = data.response.groups[0].items;\n\n        this.setState(\n          {\n            venues: venues,\n            filteredVenues: venues\n          },\n          this.renderMap()\n        );\n      })\n      .catch(err => {\n        // Code for handling fetch errors\n        console.log(\"Error: \", err);\n        alert(\"Error: Foursquare API failed to load\");\n      });\n  };\n  // Handle authentication error with the Google Maps API\n  gm_authFailure() {\n    window.alert(\"Google Maps authentication error!\");\n  }\n\n  componentDidMount() {\n    // Bind the gm_authFailure function to the window context\n    window.gm_authFailure = this.gm_authFailure;\n\n    this.getVenues();\n  }\n\n  // click event for sidebar change\n  changeSideBar = () => {\n    this.setState({\n      sidebar: !this.state.sidebar\n    });\n  };\n\n  updateQuery = query => {\n    if (query) {\n      this.setState({ query: query });\n      this.filterVenues(query);\n    } else {\n      this.setState({ query: \"\" });\n      this.setState({ filteredVenues: this.state.venues });\n      this.state.markers.forEach(m => m.setVisible(true));\n    }\n  };\n\n  // Filter displayed markers and items\n  filterVenues = query => {\n    this.setState({\n      filteredVenues: this.state.venues.filter(v => {\n        return v.venue.name.toLowerCase().includes(query.toLowerCase());\n      })\n    });\n    this.state.markers.forEach(m => {\n      m.title.toLowerCase().includes(query.toLowerCase())\n        ? m.setVisible(true)\n        : m.setVisible(false);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Header changeSideBar={this.changeSideBar} />\n        {this.state.sidebar && (\n          <SideBar\n            changeSideBar={this.changeSideBar}\n            venues={this.state.filteredVenues}\n            query={this.state.query}\n            updateQuery={this.updateQuery}\n            markers={this.state.markers}\n          />\n        )}\n        <main>\n          <div id=\"map\" className=\"App\" />\n        </main>\n      </Fragment>\n    );\n  }\n}\n\n// source: https://www.klaasnotfound.com/2016/11/06/making-google-maps-work-with-react/\nfunction loadJS() {\n  var API = \"AIzaSyDbAz1XXxDoKSU2nZXec89rcHPxgkvVoiw\";\n  var ref = window.document.getElementsByTagName(\"script\")[0];\n  var script = window.document.createElement(\"script\");\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${API}&callback=initMap`;\n  script.async = true;\n  script.onerror = function() {\n    alert(\"Error Google Maps API failed to load. \\n\" + this.src); // Error loading https://example.com/404.js\n  };\n  ref.parentNode.insertBefore(script, ref);\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}